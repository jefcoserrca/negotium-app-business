<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-button fill="clear" color="light" (click)="close()">
        <ion-icon slot="icon-only" name="chevron-back"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>{{
      !zone ? "Nueva zona de envío" : "Editar Zona " + (index + 1)
    }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="remove()" *ngIf="zone">
        <ion-icon slot="icon-only" name="trash"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
<ion-content>
  <div class="container container-fluid">
    <h3 *ngIf="zone" class="mt-3 d-flex align-items-center">
      <ion-icon name="square" class="me-2" [ngStyle]="{ color: zone.color }"></ion-icon>
      Zona {{ index + 1 }}
    </h3>
    <p class="mt-2">Introduce una colonia, localidad o delegación</p>
    <input
      #search
      autocorrect="off"
      autocapitalize="off"
      spellcheck="off"
      autocomplete="off"
      type="text"
      class="form-control"
      (change)="searcherChange()"
    />
    <div class="my-3">
      <form [formGroup]="form">
        <ion-item>
          <ion-label>
            <h3>Radio(metros)*</h3>
            <p>Metros a la redonda que cubre la zona</p>
          </ion-label>
          <ion-input
            type="number"
            placeholder="2000"
            formControlName="radius"
          ></ion-input>
        </ion-item>
        <ion-item>
          <ion-label>
            <h3>Tarifa extra</h3>
            <p>Esta cantidad se le sumará a tu costo de envío</p>
          </ion-label>
          <ion-input
            type="number"
            placeholder="$20.00"
            formControlName="extraFee"
          ></ion-input>
        </ion-item>
      </form>
    </div>
    <ion-button
      expand="block"
      color="secondary"
      class="mt-2 px-3"
      mode="ios"
      (click)="addZone()"
      [disabled]="!latitude || !longitude || form.invalid"
    >
      Añadir
    </ion-button>
  </div>
</ion-content>
